<core:FragmentDefinition
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    xmlns:f="sap.f">
    <Dialog
        id="idAddStudentsDialog"
        title="{i18n>AddStudents.Title}"
        busyIndicatorDelay="0"
        verticalScrolling="false"
        contentWidth="85%"
        contentHeight="80%"
        binding="{_create>/AddStudentsDialog}"
        beforeOpen="onBeforeOpenAddStudentsDialog"
        afterOpen="onAfterOpenAddStudentsDialog"
        afterClose="onAfterCloseAddStudentsDialog">
        <f:DynamicPage
            stickySubheaderProvider="idAddStudentsWizard"
            toggleHeaderOnTitleClick="false"
            class="sapUiNoContentPadding"
            showFooter="true">
            <f:content>
                <Wizard
                    id="idAddStudentsWizard"
                    class="sapUiResponsivePadding--header sapUiResponsivePadding--content"
                    showNextButton="false"
                    renderMode="Page">
                    <WizardStep
                        id="idAddStudentsStep"
                        validated="true"
                        title="{i18n>AddStudents.SelectStudentsStep}"
                        activate="onActivateStudentsLiveDates">
                        <core:Fragment
                            fragmentName="bstu.hmss.lib.fragments.selectStudents.SelectStudents"
                            type="XML"/>
                    </WizardStep>
                    <WizardStep id="idSetStudentsLiveDates"
                                validated="true"
                                title="{i18n>AddStudents.SetLiveDatesTitle}">
                        <core:Fragment
                            fragmentName="bstu.hmss.lib.fragments.selectStudents.LiveDates"
                            type="XML"/>
                    </WizardStep>
                    <WizardStep
                        id="idAddStudentsReviewStep"
                        validated="true"
                        title="{i18n>AddStudents.ReviewStep}">
                        <core:Fragment
                            fragmentName="bstu.hmss.lib.fragments.selectStudents.StudentsPreview"
                            type="XML"/>
                    </WizardStep>
                </Wizard>
            </f:content>
            <f:footer>
                <OverflowToolbar>
                    <Button
                        id="idAddStudentsMessagePopover"
                        icon="sap-icon://message-popup"
                        type="Emphasized"
                        press="onPressShowAddStudentsMessagePopover"
                        text="{= ${message>/}.length}"
                        visible="{= !!${message>/}.length}"/>
                    <ToolbarSpacer/>
                    <Button
                        text="{i18n>Button.Previous}"
                        visible="{_create>WizardBackVisible}"
                        press="onPressAddStudentsBack"/>
                    <Button
                        text="{i18n>Button.NextStep}"
                        type="Emphasized"
                        enabled="{_create>WizardNextEnabled}"
                        visible="{_create>WizardNextVisible}"
                        press="onPressAddStudentsNextStep"/>
                    <Button
                        text="{i18n>Button.Review}"
                        type="Emphasized"
                        visible="{_create>WizardReviewVisible}"
                        enabled="{_create>WizardReviewEnabled}"
                        press="onPressAddStudentsNextStep"/>
                    <Button
                        text="{i18n>Button.Add}"
                        type="Emphasized"
                        visible="{_create>WizardFinishVisible}"
                        press="onPressSaveStudentsDialog"/>
                    <Button
                        text="{i18n>Button.Cancel}"
                        type="Transparent"
                        press="onPressCancelAddStudentsDialog"/>
                </OverflowToolbar>
            </f:footer>
        </f:DynamicPage>
    </Dialog>
</core:FragmentDefinition>