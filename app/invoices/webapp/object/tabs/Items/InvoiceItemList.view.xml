<mvc:View
    controllerName="bstu.hmss.manageinvoices.object.tabs.items.InvoiceItemList"
    xmlns="sap.m"
    displayBlock="true"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:core="sap.ui.core"
    xmlns:layout="sap.ui.layout"
    xmlns:table="sap.ui.table"
    height="100%"
    xmlns:u="sap.ui.unified">
    <table:Table
        id="idItemsTable"
        selectionMode="None"
        visibleRowCountMode="Auto"
        enableColumnFreeze="true"
        rows="{this>/InvoiceItems}">
        <table:extension>
            <OverflowToolbar id="idOverflowToolbar">
                <content>
                    <Title text="{i18n>InvoiceItems.Title}" titleStyle="H4" id="idInvoiceItemsTitle"/>
                    <ToolbarSpacer id="idInvoiceItemTableToolbarSpacer"/>
                    <Button id="idCreateReturnExchangeBtn"
                            text="{i18n>createReturnExchange}"
                            type="Transparent"
                            enabled="{=${this>/SelectedTableItems}.length > 0}"/>
                </content>
            </OverflowToolbar>
        </table:extension>
        <table:columns>
            <!-- Column with custom checkbox selector  -->
            <table:Column width="54px" resizable="false" id="idCustomCheckboxColumn">
                <table:template>
                    <CheckBox visible="{=!!${this>ArticleNumber}}"
                              id="idCustomCheckboxSelector"
                              selected="{parts: [
                                            'this>InvoiceItemNumber', 
                                            'this>/SelectedTableItems'], 
                                         formatter: '.formatter.formatTableItemSelection'
                                        }"
                              select=".onSelectInvoice(${this>InvoiceItemNumber}, ${$parameters>/selected})"/>
                </table:template>
            </table:Column>

            <table:Column width="8rem" id="idRoomNumberColumn">
                <Label text="{i18n>Invoice.RoomNumber}" id="idRoomNumberLabel"/>
                <table:template>
                    <Text text="{this>RoomNumber}" id="idRoomNumberText"/>
                </table:template>
            </table:Column>
            <table:Column minWidth="16rem" id="idLiveDateFrom">
                <Label text="{i18n>Invoice.LiveDateFrom}" id="idLiveDateFromLabel"/>
                <table:template>
                    <Text text="{this>LiveDateFrom}" id="idLiveDateFromText"/>
                </table:template>
            </table:Column>
            <table:Column minWidth="16rem" id="idLiveDateTo">
                <Label text="{i18n>Invoice.LiveDateTo}" id="idLiveDateToLabel"/>
                <table:template>
                    <Text text="{this>LiveDateTo}" id="idLiveDateToText"/>
                </table:template>
            </table:Column>

            <table:Column width="6rem" hAlign="End" id="idLiveDaysColumn">
                <Label text="{i18n>Invoice.LiveDays}" id="idLiveDaysLabel"/>
                <table:template>
                    <Text text="{this>LiveDays}" id="idLiveDaysText"/>
                </table:template>
            </table:Column>
            <table:Column width="10rem" hAlign="End" id="idTotalSumColumn">
                <Label text="{i18n>Invoice.TotalSum}" id="idTotalSumLabel"/>
                <table:template>
                    <u:Currency
                        id="idTotalSumText"
                        stringValue="{this>TotalSum}"
                        currency="{this>Currency}"
                        useSymbol="false"/>
                </table:template>
            </table:Column>
        </table:columns>
    </table:Table>
</mvc:View>
